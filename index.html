<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ThrillerWelt Buchshop</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
    body{background:#f7f7f7;color:#333;}
    header{
        background:#fff;
        padding:15px 40px;
        display:flex;
        justify-content:space-between;
        align-items:center;
        position:sticky;top:0;
        box-shadow:0 2px 10px rgba(0,0,0,0.05);
        z-index:1000;
    }
    header .logo{font-size:1.6rem;font-weight:600;color:#333;}
    nav ul{display:flex;gap:25px;list-style:none;}
    nav ul li a{text-decoration:none;color:#333;font-weight:500;transition:0.2s;}
    nav ul li a:hover{color:#6c63ff;}
    .search-box input{
        padding:7px 15px;border-radius:20px;border:1px solid #ccc;
    }

    /* HERO */
    .hero{
        width:100%;
        height:350px;
        background:url('https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&w=1600&q=80') center/cover no-repeat;
        display:flex;align-items:center;justify-content:center;
        text-align:center;color:white;
        position:relative;
    }
    .hero::after{
        content:'';position:absolute;top:0;left:0;width:100%;height:100%;
        background:rgba(0,0,0,0.4);
    }
    .hero-content{position:relative;z-index:2;}
    .hero h1{font-size:3rem;margin-bottom:10px;}
    .hero p{font-size:1.2rem;}

    /* SECTION */
    section{padding:50px 40px;}
    h2{font-size:2rem;margin-bottom:20px;}

    /* BOOK GRID */
    .book-grid{
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
        gap:25px;
    }
    .book-card{
        background:#fff;
        border-radius:10px;
        padding:15px;
        box-shadow:0 2px 10px rgba(0,0,0,0.05);
        transition:0.3s;
    }
    .book-card:hover{transform:translateY(-5px);}
    .book-card img{width:100%;height:260px;object-fit:cover;border-radius:10px;}
    .book-card h3{font-size:1.1rem;margin:10px 0 5px;}
    .book-card p{font-size:0.9rem;color:#666;}
    .price{font-weight:600;margin:10px 0;}
    .btn{
        display:inline-block;background:#6c63ff;color:white;padding:8px 15px;border-radius:20px;
        cursor:pointer;font-size:0.9rem;transition:0.2s;text-align:center;
    }
    .btn:hover{background:#574ff0;}

    /* CART */
    #cart{
        position:fixed;
        right:-400px;
        top:0;width:350px;
        height:100%;
        background:white;
        box-shadow:-2px 0 10px rgba(0,0,0,0.1);
        padding:20px;
        transition:0.3s;
        z-index:2000;
    }
    #cart.open{right:0;}
    #cart h3{margin-bottom:15px;}
    .cart-item{
        display:flex;justify-content:space-between;
        margin-bottom:10px;padding-bottom:10px;
        border-bottom:1px solid #eee;
    }
    .cart-total{
        margin-top:20px;font-size:1.2rem;font-weight:600;
    }

    /* FILTERS */
    .filters{margin-bottom:30px;display:flex;gap:20px;flex-wrap:wrap;}
    select{
        padding:8px 10px;border-radius:10px;border:1px solid #ccc;
    }

    /* FOOTER */
    footer{
        background:#2d2d2d;color:white;
        padding:40px;text-align:center;margin-top:40px;
    }
    footer a{color:#bbb;text-decoration:none;margin:0 10px;}

    /* ANIMATION */
    @keyframes addCart {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
    }

    /* RESPONSIVE */
    @media(max-width:600px){
        header{flex-direction:column;gap:10px;}
        .hero h1{font-size:2rem;}
    }
</style>
</head>
<body>

<header>
    <div class="logo">ThrillerWelt</div>
    <nav>
        <ul>
            <li><a href="#beliebt">Neuste Bücher</a></li>
            <li><a href="#shop">Shop</a></li>
        </ul>
    </nav>
    <div class="search-box">
        <input id="searchInput" onkeyup="searchBooks()" type="text" placeholder="Bücher suchen...">
    </div>
    <div class="btn" onclick="toggleCart()">Warenkorb</div>
</header>

<div class="hero">
    <div class="hero-content">
        <h1>Finde dein nächstes Lieblingsbuch</h1>
        <p>Entdecke die neusten Thriller und Roman von ThrillerWelt</p>
    </div>
</div>

<!-- Beliebte Bücher -->
<section id="beliebt">
    <h2>Beliebte Bücher</h2>
    <div class="book-grid" id="bookList">
        <!-- Dynamisch via JS -->
    </div>
</section>

<!-- Shop -->
<section id="shop">
    <h2>Shop</h2>

    <div class="filters">
        <select id="categoryFilter" onchange="filterBooks()">
            <option value="all">Alle Kategorien</option>
            <option value="roman">Roman</option>
            <option value="fantasy">Thriller</option>
            <option value="krimi">Krimi</option>
        </select>
    </div>

    <div class="book-grid" id="shopList"></div>
</section>

<!-- CART -->
<div id="cart">

    <div style="display:flex;justify-content:space-between;align-items:center;">
        <h3>Warenkorb</h3>
        <span onclick="toggleCart()" style="cursor:pointer;font-size:1.4rem;">Schließen</span>
    </div>

    <div id="cartItems"></div>
    <div class="cart-total">Gesamt: <span id="cartTotal">0.00</span> €</div>
    <a href="kaufen.html" class="btn" onclick="saveCartBeforeCheckout()"style="margin-top:20px;display:block;text-align:center;">Jetzt kaufen</a>
</div>

<footer>
    <p>Kontakt | AGB | Impressum</p>
    <p>
        <a href="#">Instagram</a> •
        <a href="#">Facebook</a> •
        <a href="#">Twitter</a>
    </p>
</footer>

<script>
// ==== BOOK DATA ====
const books = [
    {id:1,title:"Schattenvertrag",author:"ThrillerWelt",price:14.99,cat:"Thriller",img:"https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=800"},
];

// ==== RENDERING ====
function renderBooks(){
    document.getElementById('bookList').innerHTML =
    books.map(b => cardHTML(b)).join("");

    document.getElementById('shopList').innerHTML =
    books.map(b => cardHTML(b)).join("");
}

function cardHTML(b){
    return `
    <div class="book-card">
        <img src="${b.img}">
        <h3>${b.title}</h3>
        <p>${b.author}</p>
        <div class="price">${b.price.toFixed(2)} €</div>
        <div class="btn" onclick="addToCart(${b.id}, this)">In den Warenkorb</div>
    </div>`;
}

// ==== CART ====
let cart = [];

function toggleCart(){
    document.getElementById('cart').classList.toggle('open');
}

function addToCart(id, btn){
    const book = books.find(b => b.id===id);
    const existing = cart.find(c => c.id===id);

    btn.style.animation = "addCart 0.4s ease";
    setTimeout(()=>btn.style.animation="",400);

    if(existing){
        existing.qty++;
    } else {
        cart.push({...book, qty:1});
    }

    renderCart();
}

function removeFromCart(id){
    cart = cart.filter(c => c.id !== id);
    renderCart();
}

function renderCart(){
    document.getElementById('cartItems').innerHTML =
        cart.map(c=>`
            <div class="cart-item">
                <div>${c.title} (${c.qty})</div>
                <div>
                    ${(c.price*c.qty).toFixed(2)} €
                    <span style="color:red;cursor:pointer;margin-left:10px;" onclick="removeFromCart(${c.id})">✖</span>
                </div>
            </div>
        `).join("");

    const total = cart.reduce((a,b)=>a + b.price*b.qty, 0);
    document.getElementById('cartTotal').innerText = total.toFixed(2);
}

// ==== SEARCH ====
function searchBooks(){
    const q = document.getElementById('searchInput').value.toLowerCase();
    document.getElementById('bookList').innerHTML =
        books.filter(b=>b.title.toLowerCase().includes(q))
        .map(b=>cardHTML(b)).join("");
}

// ==== FILTER ====
function filterBooks(){
    const cat = document.getElementById('categoryFilter').value;
    const filtered = cat==="all" ? books : books.filter(b=>b.cat===cat);
    document.getElementById('shopList').innerHTML = filtered.map(cardHTML).join("");
}

renderBooks();

// SPEICHERE WARENKORB IN localStorage
function saveCartBeforeCheckout() {
    localStorage.setItem('cart', JSON.stringify(cart));
}

</script>

</body>
</html>
